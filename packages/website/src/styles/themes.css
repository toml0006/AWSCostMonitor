/* Light Theme (Default) */
:root,
.light {
  /* Base colors */
  --color-bg: #FFF8E7;
  --color-text: #1A1A1A;
  --color-text-secondary: #4A4A4A;
  --color-text-muted: #6B6B6B;
  
  /* Surface colors */
  --color-surface: #FFFFFF;
  --color-surface-secondary: #F5F5F5;
  --color-surface-tertiary: #EBEBEB;
  --color-border: rgba(0, 0, 0, 0.1);
  
  /* Brand colors stay vibrant */
  --color-brand-primary: #FF006E;
  --color-brand-secondary: #00F5FF;
  --color-brand-tertiary: #FFD600;
  --color-brand-accent: #8B39FF;
  
  /* Component specific */
  --color-card-bg: rgba(255, 255, 255, 0.9);
  --color-card-border: rgba(0, 0, 0, 0.08);
  --color-code-bg: #F4F4F4;
  --color-code-text: #D73A49;
  
  /* Navigation */
  --color-nav-bg: rgba(255, 248, 231, 0.95);
  --color-nav-text: #1A1A1A;
  --color-nav-hover: #FF006E;
  
  /* Footer */
  --color-footer-bg: #1A1A1A;
  --color-footer-text: #FFFFFF;
  
  /* Shadows */
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
  --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
  --shadow-xl: 0 20px 25px rgba(0,0,0,0.1);
  
  /* Theme toggle */
  --theme-toggle-bg: rgba(255, 255, 255, 0.9);
  --theme-toggle-border: rgba(0, 0, 0, 0.2);
  --theme-toggle-color: #1A1A1A;
}

/* Twilight Theme (System Dark Mode) */
.twilight {
  /* Base colors - softer dark */
  --color-bg: #1e293b;
  --color-text: #e2e8f0;
  --color-text-secondary: #cbd5e1;
  --color-text-muted: #94a3b8;
  
  /* Surface colors with transparency */
  --color-surface: rgba(45, 55, 72, 0.6);
  --color-surface-secondary: rgba(51, 65, 85, 0.7);
  --color-surface-tertiary: rgba(71, 85, 105, 0.8);
  --color-border: rgba(148, 163, 184, 0.2);
  
  /* Brand colors - softer for twilight */
  --color-brand-primary: #f472b6;
  --color-brand-secondary: #67e8f9;
  --color-brand-tertiary: #fde047;
  --color-brand-accent: #a78bfa;
  
  /* Component specific with transparency */
  --color-card-bg: rgba(45, 55, 72, 0.5);
  --color-card-border: rgba(148, 163, 184, 0.15);
  --color-code-bg: rgba(45, 55, 72, 0.8);
  --color-code-text: #f9a8d4;
  
  /* Navigation with blur */
  --color-nav-bg: rgba(30, 41, 59, 0.85);
  --color-nav-text: #e2e8f0;
  --color-nav-hover: #f472b6;
  
  /* Footer */
  --color-footer-bg: rgba(15, 23, 42, 0.95);
  --color-footer-text: #e2e8f0;
  
  /* Shadows - subtle */
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.2);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.25);
  --shadow-lg: 0 10px 15px rgba(0,0,0,0.3);
  --shadow-xl: 0 20px 25px rgba(0,0,0,0.35);
  
  /* Theme toggle */
  --theme-toggle-bg: rgba(45, 55, 72, 0.9);
  --theme-toggle-border: rgba(148, 163, 184, 0.3);
  --theme-toggle-color: #e2e8f0;
}

/* Ultra Dark Theme - True Black */
.ultra-dark {
  /* Base colors */
  --color-bg: #000000;
  --color-text: #ffffff;
  --color-text-secondary: #e0e0e0;
  --color-text-muted: #a0a0a0;
  
  /* Surface colors with progressive transparency */
  --color-surface: rgba(10, 10, 10, 0.5);
  --color-surface-secondary: rgba(15, 15, 15, 0.6);
  --color-surface-tertiary: rgba(26, 26, 26, 0.7);
  --color-border: rgba(255, 255, 255, 0.15);
  
  /* Brand colors - vibrant for contrast */
  --color-brand-primary: #ff0066;
  --color-brand-secondary: #00ffff;
  --color-brand-tertiary: #ffff00;
  --color-brand-accent: #9933ff;
  
  /* Component specific with transparency */
  --color-card-bg: rgba(10, 10, 10, 0.4);
  --color-card-border: rgba(255, 255, 255, 0.1);
  --color-code-bg: rgba(10, 10, 10, 0.8);
  --color-code-text: #ff66b3;
  
  /* Navigation with blur */
  --color-nav-bg: rgba(0, 0, 0, 0.85);
  --color-nav-text: #ffffff;
  --color-nav-hover: #ff0066;
  
  /* Footer */
  --color-footer-bg: rgba(0, 0, 0, 0.95);
  --color-footer-text: #ffffff;
  
  /* Shadows - more prominent in ultra dark */
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.5);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.6);
  --shadow-lg: 0 10px 15px rgba(0,0,0,0.7);
  --shadow-xl: 0 20px 25px rgba(0,0,0,0.8);
  
  /* Theme toggle */
  --theme-toggle-bg: rgba(10, 10, 10, 0.9);
  --theme-toggle-border: rgba(255, 255, 255, 0.3);
  --theme-toggle-color: #ffffff;
}

/* Theme transition animations */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Update existing color variables to use theme-aware versions */
.light,
:root {
  --color-primary: var(--color-brand-primary);
  --color-secondary: var(--color-brand-secondary);
  --color-tertiary: var(--color-brand-tertiary);
  --color-accent: var(--color-brand-accent);
  --color-dark: #1A1A1A;
  --color-light: #FFF8E7;
  --color-white: #FFFFFF;
  --color-black: #000000;
}

.twilight {
  --color-primary: var(--color-brand-primary);
  --color-secondary: var(--color-brand-secondary);
  --color-tertiary: var(--color-brand-tertiary);
  --color-accent: var(--color-brand-accent);
  --color-dark: var(--color-text);
  --color-light: var(--color-bg);
  --color-white: var(--color-surface);
  --color-black: #0f172a;
}

.ultra-dark {
  --color-primary: var(--color-brand-primary);
  --color-secondary: var(--color-brand-secondary);
  --color-tertiary: var(--color-brand-tertiary);
  --color-accent: var(--color-brand-accent);
  --color-dark: var(--color-text);
  --color-light: var(--color-bg);
  --color-white: var(--color-surface);
  --color-black: #000000;
}

/* Special handling for Memphis patterns and shapes */
.twilight .geometric-shape,
.ultra-dark .geometric-shape {
  opacity: 0.4;
}

.twilight .memphis-pattern,
.ultra-dark .memphis-pattern {
  opacity: 0.3;
}

/* Code blocks */
.twilight pre,
.twilight code,
.ultra-dark pre,
.ultra-dark code {
  background: var(--color-code-bg) !important;
  color: var(--color-code-text) !important;
}

/* Buttons in dark modes */
.twilight .btn-primary,
.ultra-dark .btn-primary {
  background: var(--color-brand-primary);
  color: #FFFFFF;
  border-color: var(--color-brand-primary);
  box-shadow: 4px 4px 0 rgba(0,0,0,0.5);
}

.twilight .btn-primary:hover,
.ultra-dark .btn-primary:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 rgba(0,0,0,0.7);
}

.twilight .btn-secondary,
.ultra-dark .btn-secondary {
  background: transparent;
  color: var(--color-brand-secondary);
  border: 2px solid var(--color-brand-secondary);
  box-shadow: 4px 4px 0 rgba(0,0,0,0.5);
}

.twilight .btn-secondary:hover,
.ultra-dark .btn-secondary:hover {
  background: var(--color-brand-secondary);
  color: var(--color-bg);
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px 0 rgba(0,0,0,0.7);
}

/* Cards and sections in dark modes with progressive transparency */
.twilight .card,
.twilight .feature-card,
.twilight .pricing-card {
  background: var(--color-card-bg);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-color: var(--color-border);
  color: var(--color-text);
}

.ultra-dark .card,
.ultra-dark .feature-card,
.ultra-dark .pricing-card {
  background: var(--color-card-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-color: var(--color-border);
  color: var(--color-text);
}

/* Progressive section backgrounds */
.twilight section:nth-child(odd),
.ultra-dark section:nth-child(odd) {
  background: transparent;
}

.twilight section:nth-child(even) {
  background: rgba(30, 41, 59, 0.3);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.ultra-dark section:nth-child(even) {
  background: rgba(10, 10, 10, 0.2);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Hero section special handling */
.twilight .hero,
.ultra-dark .hero {
  background: transparent;
}

/* Navigation with blur */
.twilight .navigation,
.ultra-dark .navigation {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Feature cards with depth */
.twilight .feature-card {
  background: linear-gradient(135deg, rgba(45, 55, 72, 0.6), rgba(51, 65, 85, 0.4));
}

.ultra-dark .feature-card {
  background: linear-gradient(135deg, rgba(20, 20, 20, 0.5), rgba(10, 10, 10, 0.3));
}

/* Pricing cards with special transparency */
.twilight .pricing-card {
  background: linear-gradient(180deg, rgba(45, 55, 72, 0.7), rgba(30, 41, 59, 0.5));
}

.ultra-dark .pricing-card {
  background: linear-gradient(180deg, rgba(15, 15, 15, 0.6), rgba(5, 5, 5, 0.4));
}

/* Screenshots section */
.twilight .screenshots,
.ultra-dark .screenshots {
  background: transparent;
}

/* Footer in dark modes */
.twilight .footer,
.ultra-dark .footer {
  background: var(--color-footer-bg);
  color: var(--color-footer-text);
}

/* Navigation text colors */
.twilight .nav-menu a,
.ultra-dark .nav-menu a {
  color: var(--color-nav-text) !important;
}

.twilight .nav-menu a:hover,
.ultra-dark .nav-menu a:hover {
  color: var(--color-nav-hover) !important;
}

/* Fix contrast issues for specific sections */

/* Enterprise Features section */
.twilight .feature-highlight,
.ultra-dark .feature-highlight {
  background: rgba(30, 41, 59, 0.8) !important;
  color: var(--color-text) !important;
  border: 2px solid var(--color-border);
}

.twilight .feature-highlight h3,
.ultra-dark .feature-highlight h3 {
  color: var(--color-text) !important;
}

.twilight .feature-highlight p,
.ultra-dark .feature-highlight p {
  color: var(--color-text-secondary) !important;
  opacity: 1 !important;
}

.twilight .feature-list li,
.ultra-dark .feature-list li {
  color: var(--color-text) !important;
}

/* Privacy highlight section */
.twilight .privacy-highlight,
.ultra-dark .privacy-highlight {
  background: linear-gradient(135deg, rgba(45, 55, 72, 0.9) 0%, rgba(30, 41, 59, 0.9) 100%) !important;
  color: var(--color-text) !important;
  border: 2px solid var(--color-border);
}

.twilight .privacy-highlight h3,
.ultra-dark .privacy-highlight h3 {
  color: var(--color-text) !important;
}

.twilight .privacy-highlight p,
.ultra-dark .privacy-highlight p {
  color: var(--color-text-secondary) !important;
}

.twilight .privacy-point span,
.ultra-dark .privacy-point span {
  color: var(--color-text) !important;
}

/* How It Works / Get Started section */
.twilight .how-it-works,
.ultra-dark .how-it-works {
  background: rgba(30, 41, 59, 0.4) !important;
}

.twilight .step h3,
.ultra-dark .step h3 {
  color: var(--color-text) !important;
}

.twilight .step p,
.ultra-dark .step p {
  color: var(--color-text-secondary) !important;
  opacity: 1 !important;
}

.twilight .requirements h3,
.ultra-dark .requirements h3 {
  color: var(--color-text) !important;
}

.twilight .requirement-item strong,
.ultra-dark .requirement-item strong {
  color: var(--color-text) !important;
}

.twilight .requirement-item span,
.ultra-dark .requirement-item span {
  color: var(--color-text-secondary) !important;
}

/* Step cards */
.twilight .step-card,
.ultra-dark .step-card {
  background: var(--color-card-bg) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.twilight .step-card h3,
.ultra-dark .step-card h3 {
  color: var(--color-text) !important;
}

.twilight .step-card p,
.ultra-dark .step-card p {
  color: var(--color-text-secondary) !important;
  opacity: 1 !important;
}

/* Installation steps */
.twilight .installation-steps,
.ultra-dark .installation-steps {
  background: var(--color-card-bg) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.twilight .installation-steps h3,
.ultra-dark .installation-steps h3 {
  color: var(--color-text) !important;
}

.twilight .step-content h4,
.ultra-dark .step-content h4 {
  color: var(--color-text) !important;
}

.twilight .step-content p,
.ultra-dark .step-content p {
  color: var(--color-text-secondary) !important;
  opacity: 1 !important;
}

/* Install steps */
.twilight .install-steps li,
.ultra-dark .install-steps li {
  color: var(--color-text-secondary) !important;
}

/* Benefit cards - fix contrast issues */
.twilight .benefit-card,
.ultra-dark .benefit-card {
  background: var(--color-card-bg) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 3px solid var(--color-border) !important;
}

.twilight .benefit-card h4,
.ultra-dark .benefit-card h4 {
  color: var(--color-text) !important;
}

.twilight .benefit-card p,
.ultra-dark .benefit-card p {
  color: var(--color-text-secondary) !important;
  opacity: 1 !important;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .theme-toggle {
    bottom: 1rem !important;
    right: 1rem !important;
    padding: 0.5rem 0.75rem !important;
  }
  
  .theme-toggle span {
    display: none;
  }
}